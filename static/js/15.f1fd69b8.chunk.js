(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{327:function(e,a,t){"use strict";t.d(a,"a",function(){return n}),t.d(a,"b",function(){return r}),t.d(a,"c",function(){return l}),t.d(a,"f",function(){return c}),t.d(a,"h",function(){return o}),t.d(a,"d",function(){return s}),t.d(a,"e",function(){return i}),t.d(a,"g",function(){return p});var n="https://wegmaniac.ga/global_scripts/new_project.php",r="https://wegmaniac.ga/global_scripts/file_upload.php",l="https://wegmaniac.ga/global_scripts/media_gallery_links.php",c="https://wegmaniac.ga/global_scripts/all_projects_data.php",o="https://wegmaniac.ga/global_scripts/check_projectid.php",s="https://wegmaniac.ga/global_scripts/remove_media_file.php",i="https://wegmaniac.ga/global_scripts/delete_project.php",p="https://wegmaniac.ga/global_scripts/dashboard_stats.php"},767:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(12),l=t(15),c=t(13),o=t(116),s=t(14),i=t(0),p=t.n(i),u=t(760),m=t(761),d=t(764),g=t(763),h=t(18),f=t(94),b=t(316),j=t(762);function v(e,a){var t=new FileReader;t.addEventListener("load",function(){return a(t.result)}),t.readAsDataURL(e)}function E(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||b.a.error("You can only upload JPG/PNG file!");var t=e.size/1024/1024<2;return t||b.a.error("Image must smaller than 2MB!"),a&&t}var y=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=Object(l.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(o)))).state={loading:!1},t.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&(v(e.file.originFileObj,function(e){return t.setState({imageUrl:e,loading:!1})}),v(e.file.originFileObj,function(e){return t.props.onUpdate(e)})):t.setState({loading:!0})},t}return Object(s.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=p.a.createElement("div",null,p.a.createElement(h.a,{type:this.state.loading?"loading":"plus"}),p.a.createElement("div",{className:"ant-upload-text"},"Upload")),a=this.state.imageUrl;return p.a.createElement(m.a,{className:"gx-card",title:""},p.a.createElement(j.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:E,onChange:this.handleChange},a?p.a.createElement("img",{src:a,alt:""}):e))}}]),a}(p.a.Component),w=t(344),_=t.n(w),N=t(327),O=t(318),k=u.a.Item,C={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:18},md:{span:16},lg:{span:12}}},S=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(c.a)(a).call(this,e))).onUpdate=function(e){t.setState({avatarSrc:e,buttonDisplay:"block"})},t.handleSubmit=function(e){var a=t.state.avatarSrc;e.preventDefault();var n=Object(o.a)(t);t.props.form.validateFields(function(e,t){e||_.a.post(N.a,{project_name:t.projectName,client_name:t.clientName,avatar:a}).then(function(e){console.log(e),200===e.status&&(console.log("Success"),n.setState({redirect:!0,uniqueId:e.data}))}).catch(function(e){console.log(e)})})},t.state={avatarSrc:"XX",redirect:!1,buttonDisplay:"none"},t}return Object(s.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return!0===this.state.redirect?p.a.createElement(O.a,{to:"/stark/uploads/"+this.state.uniqueId}):p.a.createElement(m.a,{className:"gx-card",title:"Create New Project"},p.a.createElement(d.a,null,p.a.createElement(d.a.Item,null,"Home"),p.a.createElement(d.a.Item,null,p.a.createElement("span",{className:"gx-link"},"New Project"))),p.a.createElement("br",null),p.a.createElement("br",null),p.a.createElement(u.a,{onSubmit:this.handleSubmit},p.a.createElement(k,Object.assign({label:"Project Name"},C),e("projectName",{rules:[{required:!0,message:"Please input your project name!"}]})(p.a.createElement(g.a,{prefix:p.a.createElement(h.a,{type:"project",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter a name for your project",id:"project",autoComplete:"off"}))),p.a.createElement(k,Object.assign({label:"Client Name"},C),e("clientName",{rules:[{required:!0,message:"Please input your client's name!"}]})(p.a.createElement(g.a,{prefix:p.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter a client's name",id:"client",autoComplete:"off"}))),p.a.createElement(k,Object.assign({},C,{label:"Avatar",hasFeedback:!0}),p.a.createElement(y,{onUpdate:this.onUpdate})),p.a.createElement(f.a,{style:{display:this.state.buttonDisplay},block:!0,type:"primary",shape:"round",htmlType:"submit",className:"login-form-button"},p.a.createElement(h.a,{type:"right-circle",theme:"filled"}),"Create Now!")))}}]),a}(p.a.Component),U=u.a.create({name:"new_project_form"})(S);a.default=U}}]);
//# sourceMappingURL=15.f1fd69b8.chunk.js.map