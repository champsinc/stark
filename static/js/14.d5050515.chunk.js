(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{366:function(e,a,t){"use strict";t.d(a,"a",function(){return n}),t.d(a,"b",function(){return r});var n="http://18.217.69.34/global_scripts/new_project.php",r="http://18.217.69.34/global_scripts/file_upload.php"},815:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(12),l=t(14),o=t(13),c=t(15),i=t(0),s=t.n(i),p=t(805),u=t(806),m=t(808),d=t(18),f=t(94),g=t(315),h=t(807);function b(e,a){var t=new FileReader;t.addEventListener("load",function(){return a(t.result)}),t.readAsDataURL(e)}function v(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||g.a.error("You can only upload JPG/PNG file!");var t=e.size/1024/1024<2;return t||g.a.error("Image must smaller than 2MB!"),a&&t}var j=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(c)))).state={loading:!1},t.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&(b(e.file.originFileObj,function(e){return t.setState({imageUrl:e,loading:!1})}),b(e.file.originFileObj,function(e){return t.props.onUpdate(e)})):t.setState({loading:!0})},t}return Object(c.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=s.a.createElement("div",null,s.a.createElement(d.a,{type:this.state.loading?"loading":"plus"}),s.a.createElement("div",{className:"ant-upload-text"},"Upload")),a=this.state.imageUrl;return s.a.createElement(u.a,{className:"gx-card",title:""},s.a.createElement(h.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:v,onChange:this.handleChange},a?s.a.createElement("img",{src:a,alt:""}):e))}}]),a}(s.a.Component),y=t(594),E=t.n(y),w=t(366),O=p.a.Item,N={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:18},md:{span:16},lg:{span:12}}},C=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(o.a)(a).call(this,e))).onUpdate=function(e){t.setState({avatarSrc:e})},t.handleSubmit=function(e){var a=t.state.avatarSrc;e.preventDefault(),t.props.form.validateFields(function(e,t){e||E.a.post(w.a,{project_name:t.projectName,client_name:t.clientName,avatar:a}).then(function(e){console.log(e),"Success"===e.data&&(window.location.href="/stark/uploads")}).catch(function(e){console.log(e)})})},t.state={avatarSrc:"XX"},t}return Object(c.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return s.a.createElement(u.a,{className:"gx-card",title:"Create New Project"},s.a.createElement(p.a,{onSubmit:this.handleSubmit},s.a.createElement(O,Object.assign({label:"Project Name"},N),e("projectName",{rules:[{required:!0,message:"Please input your project name!"}]})(s.a.createElement(m.a,{prefix:s.a.createElement(d.a,{type:"project",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter a name for your project",id:"project",autoComplete:"off"}))),s.a.createElement(O,Object.assign({label:"Client Name"},N),e("clientName",{rules:[{required:!0,message:"Please input your client's name!"}]})(s.a.createElement(m.a,{prefix:s.a.createElement(d.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter a client's name",id:"client",autoComplete:"off"}))),s.a.createElement(O,Object.assign({},N,{label:"Avatar",hasFeedback:!0}),s.a.createElement(j,{onUpdate:this.onUpdate})),s.a.createElement(f.a,{block:!0,type:"primary",shape:"round",htmlType:"submit",className:"login-form-button"},s.a.createElement(d.a,{type:"right-circle",theme:"filled"}),"Create Now!")))}}]),a}(s.a.Component),S=p.a.create({name:"normal_login"})(C);a.default=S}}]);
//# sourceMappingURL=14.d5050515.chunk.js.map