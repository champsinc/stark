(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{334:function(e,a,t){"use strict";t.d(a,"a",function(){return n}),t.d(a,"b",function(){return r}),t.d(a,"c",function(){return l}),t.d(a,"d",function(){return c});var n="https://wegmaniac.ga/global_scripts/new_project.php",r="https://wegmaniac.ga/global_scripts/file_upload.php",l="https://wegmaniac.ga/global_scripts/media_gallery_links.php",c="https://wegmaniac.ga/global_scripts/all_projects_data.php"},758:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(12),l=t(15),c=t(13),o=t(116),i=t(14),s=t(0),p=t.n(s),u=t(750),m=t(751),d=t(753),g=t(18),f=t(94),h=t(316),b=t(752);function j(e,a){var t=new FileReader;t.addEventListener("load",function(){return a(t.result)}),t.readAsDataURL(e)}function v(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||h.a.error("You can only upload JPG/PNG file!");var t=e.size/1024/1024<2;return t||h.a.error("Image must smaller than 2MB!"),a&&t}var y=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(o)))).state={loading:!1},t.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&(j(e.file.originFileObj,function(e){return t.setState({imageUrl:e,loading:!1})}),j(e.file.originFileObj,function(e){return t.props.onUpdate(e)})):t.setState({loading:!0})},t}return Object(i.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=p.a.createElement("div",null,p.a.createElement(g.a,{type:this.state.loading?"loading":"plus"}),p.a.createElement("div",{className:"ant-upload-text"},"Upload")),a=this.state.imageUrl;return p.a.createElement(m.a,{className:"gx-card",title:""},p.a.createElement(b.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:v,onChange:this.handleChange},a?p.a.createElement("img",{src:a,alt:""}):e))}}]),a}(p.a.Component),E=t(362),w=t.n(E),O=t(334),N=t(318),_=u.a.Item,C={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:18},md:{span:16},lg:{span:12}}},S=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(l.a)(this,Object(c.a)(a).call(this,e))).onUpdate=function(e){t.setState({avatarSrc:e})},t.handleSubmit=function(e){var a=t.state.avatarSrc;e.preventDefault();var n=Object(o.a)(t);t.props.form.validateFields(function(e,t){e||w.a.post(O.a,{project_name:t.projectName,client_name:t.clientName,avatar:a}).then(function(e){console.log(e),200===e.status&&(console.log("Success"),n.setState({redirect:!0,uniqueId:e.data}))}).catch(function(e){console.log(e)})})},t.state={avatarSrc:"XX",redirect:!1},t}return Object(i.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return!0===this.state.redirect?p.a.createElement(N.a,{to:"/stark/uploads/"+this.state.uniqueId}):p.a.createElement(m.a,{className:"gx-card",title:"Create New Project"},p.a.createElement(u.a,{onSubmit:this.handleSubmit},p.a.createElement(_,Object.assign({label:"Project Name"},C),e("projectName",{rules:[{required:!0,message:"Please input your project name!"}]})(p.a.createElement(d.a,{prefix:p.a.createElement(g.a,{type:"project",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter a name for your project",id:"project",autoComplete:"off"}))),p.a.createElement(_,Object.assign({label:"Client Name"},C),e("clientName",{rules:[{required:!0,message:"Please input your client's name!"}]})(p.a.createElement(d.a,{prefix:p.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter a client's name",id:"client",autoComplete:"off"}))),p.a.createElement(_,Object.assign({},C,{label:"Avatar",hasFeedback:!0}),p.a.createElement(y,{onUpdate:this.onUpdate})),p.a.createElement(f.a,{block:!0,type:"primary",shape:"round",htmlType:"submit",className:"login-form-button"},p.a.createElement(g.a,{type:"right-circle",theme:"filled"}),"Create Now!")))}}]),a}(p.a.Component),U=u.a.create({name:"new_project_form"})(S);a.default=U}}]);
//# sourceMappingURL=13.5d4bcaff.chunk.js.map